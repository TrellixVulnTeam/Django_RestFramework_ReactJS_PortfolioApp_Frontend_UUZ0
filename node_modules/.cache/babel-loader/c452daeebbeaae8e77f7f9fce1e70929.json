{"ast":null,"code":"import _objectSpread from\"/home/alex/Documents/Auth_System/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{GiArcTriomphe}from'react-icons/gi';import{LOGIN_SUCCESS,LOGIN_FAIL,USER_LOADED_SUCCESSS,USER_LOADED_FAIL}from'../actions/types';var initialState={access:localStorage.getItem('access'),refresh:localStorage.getItem('refresh'),isAuthenticated:null,user:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case LOGIN_SUCCESS:console.log(\"LOGIN_SUCCESS\");localStorage.setItem('access',payload.access);localStorage.setItem('refresh',payload.refresh);return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,access:payload.access,refresh:payload.refresh});case LOGIN_FAIL:localStorage.removeItem('access');localStorage.removeItem('refresh');return _objectSpread(_objectSpread({},state),{},{access:null,refresh:null,isAuthenticated:false,user:null});case USER_LOADED_FAIL:return _objectSpread(_objectSpread({},state),{},{user:null});case USER_LOADED_SUCCESSS:return _objectSpread(_objectSpread({},state),{},{user:payload});default:return state;}}// const initialState = {\n//     token: localStorage.getItem(\"token\"),\n//     isAuthenticated: null,\n//     loading: false,\n//   };\n//   export default function (state = initialState, action) {\n//     const { type, payload } = action;\n//     switch (type) {\n//       case LOGIN_SUCESS:\n//         localStorage.setItem(\"token\", payload.tokens.token);\n//         return {\n//           ...state,\n//           isAuthenticated: true,\n//           loading: false,\n//           token: payload.tokens.token,\n//         };\n//       case SIGNUP_SUCESS:\n//         return {\n//             case LOGOUT:\n//                 localStorage.removeItem(\"token\");\n//                 return {\n//                   ...state,\n//                   isAuthenticated: false,\n//                   loading: false,\n//                   token: null,\n//                 };\n//               default:\n//                 return state;\n//             }\n//           } case LOGOUT:\n//         localStorage.removeItem(\"token\");\n//         return {\n//           ...state,\n//           isAuthenticated: false,\n//           loading: false,\n//           token: null,\n//         };\n//       default:\n//         return state;\n//     }\n//   }","map":{"version":3,"sources":["/home/alex/Documents/Auth_System/src/reducers/auth.js"],"names":["GiArcTriomphe","LOGIN_SUCCESS","LOGIN_FAIL","USER_LOADED_SUCCESSS","USER_LOADED_FAIL","initialState","access","localStorage","getItem","refresh","isAuthenticated","user","state","action","type","payload","console","log","setItem","removeItem"],"mappings":"sJAAA,OAASA,aAAT,KAA8B,gBAA9B,CACA,OAAQC,aAAR,CAAsBC,UAAtB,CAAiCC,oBAAjC,CAAsDC,gBAAtD,KAA6E,kBAA7E,CAMA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,MAAM,CAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADS,CAEjBC,OAAO,CAAEF,YAAY,CAACC,OAAb,CAAqB,SAArB,CAFQ,CAGjBE,eAAe,CAAE,IAHA,CAIjBC,IAAI,CAAE,IAJW,CAArB,CASA,cAAe,WAAwC,IAA9BC,CAAAA,KAA8B,2DAAtBP,YAAsB,IAARQ,CAAAA,MAAQ,8CAC3CC,CAAAA,IAD2C,CACzBD,MADyB,CAC3CC,IAD2C,CACrCC,OADqC,CACzBF,MADyB,CACrCE,OADqC,CAEnD,OAAQD,IAAR,EACI,IAAKb,CAAAA,aAAL,CACIe,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAV,YAAY,CAACW,OAAb,CAAqB,QAArB,CAA+BH,OAAO,CAACT,MAAvC,EACAC,YAAY,CAACW,OAAb,CAAqB,SAArB,CAAgCH,OAAO,CAACN,OAAxC,EACA,sCACOG,KADP,MAEIF,eAAe,CAAE,IAFrB,CAGIJ,MAAM,CAAES,OAAO,CAACT,MAHpB,CAIIG,OAAO,CAAEM,OAAO,CAACN,OAJrB,GAOA,IAAKP,CAAAA,UAAL,CACAK,YAAY,CAACY,UAAb,CAAwB,QAAxB,EACAZ,YAAY,CAACY,UAAb,CAAwB,SAAxB,EACA,sCACOP,KADP,MAEIN,MAAM,CAAE,IAFZ,CAGIG,OAAO,CAAE,IAHb,CAIIC,eAAe,CAAE,KAJrB,CAKIC,IAAI,CAAE,IALV,GAQA,IAAKP,CAAAA,gBAAL,CACA,sCACOQ,KADP,MAEID,IAAI,CAAE,IAFV,GAKA,IAAKR,CAAAA,oBAAL,CACA,sCACQS,KADR,MAEID,IAAI,CAACI,OAFT,GAKA,QACI,MAAOH,CAAAA,KAAP,CApCZ,CAuCH,CAMD;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { GiArcTriomphe } from 'react-icons/gi';\nimport {LOGIN_SUCCESS,LOGIN_FAIL,USER_LOADED_SUCCESSS,USER_LOADED_FAIL} from '../actions/types';\n\n\n\n\n\nconst initialState = {\n    access: localStorage.getItem('access'),\n    refresh: localStorage.getItem('refresh'),\n    isAuthenticated: null,\n    user: null\n};\n\n\n\nexport default function (state = initialState, action) {\n    const { type, payload } = action;\n    switch (type) {\n        case LOGIN_SUCCESS:\n            console.log(\"LOGIN_SUCCESS\")\n            localStorage.setItem('access', payload.access);\n            localStorage.setItem('refresh', payload.refresh);\n            return {\n                ...state,\n                isAuthenticated: true,\n                access: payload.access,\n                refresh: payload.refresh\n            }\n            \n            case LOGIN_FAIL:\n            localStorage.removeItem('access');\n            localStorage.removeItem('refresh');\n            return {\n                ...state,\n                access: null,\n                refresh: null,\n                isAuthenticated: false,\n                user: null\n            }\n    \n            case USER_LOADED_FAIL: \n            return {\n                ...state,\n                user: null\n            }\n\n            case USER_LOADED_SUCCESSS :\n            return{\n                ... state,\n                user:payload\n\n            }\n            default:\n                return state;\n\n    }\n}      \n\n\n\n\n\n// const initialState = {\n//     token: localStorage.getItem(\"token\"),\n//     isAuthenticated: null,\n//     loading: false,\n//   };\n  \n//   export default function (state = initialState, action) {\n//     const { type, payload } = action;\n  \n//     switch (type) {\n//       case LOGIN_SUCESS:\n//         localStorage.setItem(\"token\", payload.tokens.token);\n//         return {\n//           ...state,\n//           isAuthenticated: true,\n//           loading: false,\n//           token: payload.tokens.token,\n//         };\n//       case SIGNUP_SUCESS:\n//         return {\n//             case LOGOUT:\n//                 localStorage.removeItem(\"token\");\n//                 return {\n//                   ...state,\n//                   isAuthenticated: false,\n//                   loading: false,\n//                   token: null,\n//                 };\n//               default:\n//                 return state;\n//             }\n//           } case LOGOUT:\n//         localStorage.removeItem(\"token\");\n//         return {\n//           ...state,\n//           isAuthenticated: false,\n//           loading: false,\n//           token: null,\n//         };\n//       default:\n//         return state;\n//     }\n//   }"]},"metadata":{},"sourceType":"module"}